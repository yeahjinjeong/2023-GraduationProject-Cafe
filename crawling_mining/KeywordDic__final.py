# -*- coding: utf-8 -*-
import pandas as pd
from konlpy.tag import Okt
from collections import Counter
import csv


# ì ìˆ˜ë¥¼ ì €ì¥í•  ë”•ì…”ë„ˆë¦¬
score = {'ë¸ŒëŸ°ì¹˜/ì‹ì‚¬': 0, 'ì»¤í”¼': 0, 'ì°¨': 0, 'ë””ì €íŠ¸': 0, 'ë¹„ê±´': 0,
         'ê³µë¶€/ê°œì¸ì‘ì—…/ì—…ë¬´(1ì¸)': 0, 'íŒ€í”Œ/íšŒì˜/ìŠ¤í„°ë””': 0, 'ëŒ€ëª¨ì„': 0, 'ëŒ€í™”/ìˆ˜ë‹¤': 0, 'ì•„ì´': 0, 'í• ì•„ë²„ì§€/í• ë¨¸ë‹ˆ': 0, 'íŒŒí‹°': 0, 'íœ´ì‹': 0, 'sns/í•«í”Œ': 0, 'í…Œë§ˆì¹´í˜': 0}
# score.keys()
# score.values()

# ë¶„ë¥˜ë¥¼ ë¹„êµí•  ë¦¬ìŠ¤íŠ¸
classes = ['ë¸ŒëŸ°ì¹˜/ì‹ì‚¬', 'ì»¤í”¼', 'ì°¨', 'ë””ì €íŠ¸', 'ë¹„ê±´',
           'ê³µë¶€/ê°œì¸ì‘ì—…/ì—…ë¬´(1ì¸)', 'íŒ€í”Œ/íšŒì˜/ìŠ¤í„°ë””', 'ëŒ€ëª¨ì„', 'ëŒ€í™”/ìˆ˜ë‹¤', 'ì•„ì´', 'í• ì•„ë²„ì§€/í• ë¨¸ë‹ˆ', 'íŒŒí‹°', 'íœ´ì‹', 'sns/í•«í”Œ', 'í…Œë§ˆì¹´í˜']
# 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14

positive = {'ë¹µì§‘': [0], 'ìƒëŸ¬ë“œ': [0], 'ë¸ŒëŸ°ì¹˜': [0], 'íŒŒìŠ¤íƒ€': [0], 'ì‹ì‚¬': [0], 'ì•„ì¹¨ì‹ì‚¬': [0], 'ì•„ì ': [0], 'ë‹¤ì´ì–´íŠ¸': [0], 'ë² ì´ê¸€': [0], 'ìƒŒë“œìœ„ì¹˜': [0], 'í˜ìŠ¤ì¸„ë¦¬': [0], 'ë² ì´ì»¤ë¦¬': [0], 'ì‹ ì„ ': [0], 'ë¸Œë ˆë“œ': [0], 'ìˆ˜í”„': [0], 'ë¼ìëƒ': [0], 'ë‡¨ë¼': [0], 'í‚¤ì‰¬': [0], 'ì ë´‰ëµˆë¥´': [0], 'ë§ˆë¥´ê²Œë¦¬ë”°': [0], 'í”¼ì': [0], 'ìš”ë¦¬': [0], 'ìŠ¤í…Œì´í¬': [0], 'ë°¥': [0], 'ì˜¤ë¯€ë¼ì´ìŠ¤': [0], 'íŒŒë‹ˆë‹ˆ ': [0], 'ì¹˜í‚¨': [0], 'ë²„ê±°': [0], 'í–„ë²„ê±°': [0], 'ìŠˆë‹ˆì²¼': [0, 3], 'íƒ€ì½”': [0], 'í† ìŠ¤íŠ¸': [0], 'í”„ë Œì¹˜í† ìŠ¤íŠ¸': [0], 'í•«ë„ê·¸': [0], 'bread': [0], 'brunch': [0], 'ì‹±ì‹±í•˜ë‹¤': [0], 'ì ë´‰': [0], 'ì‹ ì„ í•˜ë‹¤': [0], 'ì‹±ì‹±': [0], 'ìŒì‹': [0], 'ì‹ ì„ ë„': [0], 'ë¼ë‹ˆ': [0], 'ë¼': [0], 'ë¡œìŠ¤í„°ë¦¬': [1], 'ì›ë‘': [1], 'ì”¨ì•—': [1], 'ë°”ë¦¬ìŠ¤íƒ€': [1], 'í•¸ë“œë“œë¦½': [1], 'ë“œë¦½ì»¤í”¼': [1], 'ë¡œìŠ¤íŒ…': [1], 'ì»¤í”¼ì „ë¬¸ì ': [1], 'ì „ë¬¸ì ': [1], 'ì¥ì¸': [1], 'ì‚°ë¯¸': [1], 'ë³¶ë‹¤': [1], 'ë¼ë–¼ì•„íŠ¸': [1], 'ë“œë¦½ë°±': [1], 'ë¸”ë Œë”©': [1, 2], 'ë¸”ëœë”©': [1, 2], 'ë¸”ë Œë””ë“œ': [1, 2], 'ë¸”ëœë””ë“œ': [1, 2], 'ì»¤í”¼ë§›ì§‘': [1], '#ì»¤í”¼ë§›ì§‘': [1], 'ë¸”ë Œë“œ': [1, 2], 'ë¸”ëœë“œ': [1, 2], 'ì°»ì§‘': [2, 10], 'í™ì°¨': [2], 'ì°¨ì¢…ë¥˜': [2], 'ë‹¤ì‹': [2], 'ìš°ë ¤': [2], 'ì• í”„í„°ëˆˆí‹°': [2], 'í¬ë¦¼í‹°': [2], 'tea': [2], 'ì°»ì”': [2], 'í‹° ì „ë¬¸': [2], 'í‹°íŒŸ': [2], 'ì°¨ì£¼ì „ì': [2], 'ë³µë¶„ìì°¨': [2], 'ì‹­ì „ëŒ€ë³´ì°¨': [2], 'ì „í†µ': [2], 'ì˜¤ë¯¸ìì°¨': [2], 'ìˆ˜ì •ê³¼': [2], 'ëŒ€ì¶”ì°¨': [2], 'ë‹¬ì´ë‹¤': [2], 'ì°»ì': [2], 'ê³ ê¸‰í‹°': [2], 'ë°±ì°¨': [2], 'ë³´ì´ì°¨': [2], 'ë£¨ì´ë³´ìŠ¤': [2], 'ì°»ìë¦¬': [2], 'í•œë°©ì¹´í˜': [2, 10], 'ìŒí™”ì°¨': [2], 'í‹°ë°±': [2], 'ë¸”ë Œë”©í‹°': [2], 'í‹°ì„¸íŠ¸': [2], 'í‹° ì„¸íŠ¸': [2], 'ì°¨': [2], 'ìš°ë¡±': [2], 'ìŒí™”íƒ•': [2],
            'ë””ì €íŠ¸': [3, 9], 'dessert': [3], 'ë¹µì§€ìˆœë¡€': [3], 'ê²‰ë°”': [3], 'êµ½ë‹¤': [3], 'ê²‰ë°”ì†ì´‰': [3],
            'ë¹„ê±´': [4], 'ì±„ì‹': [4], 'ë² ì§€í…Œë¦¬ì–¸': [4], 'í˜ìŠ¤ì½”': [4], 'ë½í† ': [4], 'ì˜¤ë³´': [4], 'ìŠ¤íŠ¸ë¦­íŠ¸': [4], 'ì‹ë¬¼ì„±': [4],
            'ì¡°ìš©í•˜ë‹¤': [10, 12, 5], 'ì¡°ìš©': [5], 'ë„“ë‹¤': [11, 5, 6, 7], 'ë„ì°í•˜ë‹¤': [5, 6, 7], 'ë„ì°ë„ì°': [5, 6, 7], 'ë„ì°': [5, 6, 7], 'ì¾Œì í•˜ë‹¤': [5], 'ì¾Œì ': [5], 'ì§‘ì¤‘': [5], 'ì™€ì´íŒŒì´': [5, 6], 'WIFI': [5, 6], 'ì½˜ì„¼íŠ¸': [5, 6], 'ì¶©ì „ê¸°': [5, 6], '1ì¸ì„': [5], 'í˜¼ê³µ': [5], 'í˜¼ìì„œ': [12, 5], 'í˜¼ì': [12, 5], 'ìœ„ì¸µ': [5, 7], 'ì•„ë˜ì¸µ': [5, 7], 'ì¸µ': [5, 7], '2ì¸µ': [5, 7], '3ì¸µ': [5, 7], 'ì¹¸ë§‰ì´': [5], 'ë°ë‹¤': [9, 5, 6, 7], '#ë¶ì¹´í˜': [5], 'ë¶ì¹´í˜': [5], 'ê³¼ì œ': [5, 6], 'ì¹´ê³µ': [5, 6], 'ê³µë¶€': [5, 6], 'ì—…ë¬´': [5], 'ì‘ì—…': [5, 6], 'ì±…': [12, 5], 'ë…¸íŠ¸ë¶': [5, 6], 'ì„œì ': [5], '24ì‹œê°„': [5], 'ì”ì”í•˜ë‹¤': [10, 12, 5], 'ì”ì”í•œ': [8, 5], 'ì”ì”': [8, 10, 12, 5], 'íŒŒí‹°ì…˜': [5], 'ì¥ì‹œê°„': [5], 'ìŠ¤íƒ ë“œ': [5], 'ì‹œí—˜': [5], 'ìê²©ì¦': [5], 'í† ìµ': [5], 'í† í”Œ': [5], 'ì»´í™œ': [5], 'íŒ¨ë“œ': [5], 'ì•„ì´íŒ¨ë“œ': [5], 'ê³ ìš”í•¨': [5], 'ê³ ìš”í•œ': [12, 5], 'ê³ ìš”': [12, 5], 'ê³ ìš”í•˜ë‹¤': [12, 5],
            'ë„“ì–´ì§€ë‹¤': [6, 7], '5ì¸': [6], 'ë‹¤ì¸ì„': [11, 6, 7], 'ë‹¤ì¸ìš©': [11, 6, 7], 'ë™ì•„ë¦¬': [6, 7], 'íŒ€í”Œ': [6], 'íšŒì˜': [6, 7], 'ìŠ¤í„°ë””': [6], 'ëª¨ì„': [6], 'í† ë¡ ': [6], 'í† ì˜': [6], 'í”„ë¡œì íŠ¸': [6], 'ë¯¸íŒ…ë£¸': [6], 'ì„¸ë¯¸ë‚˜': [6, 7], 'ë„“ì€ ì±…ìƒ': [6], 'ì—­ì„¸ê¶Œ': [6], 'ìœ„ì¹˜': [6], 'ì ‘ê·¼ì„±': [6], 'ì¸ê·¼': [6], 'ì¡°ë³„': [6], 'ì¶œêµ¬': [6], 'íŒ€ì›': [6], 'íšŒì˜ì‹¤': [6], 'íšŒì˜ë£¸': [6], 'íšŒì˜ì¥': [6], 'ì„œìš¸ì—­': [6], 'ìš©ì‚°ì—­': [6], 'ì‹ ìš©ì‚°ì—­': [6], 'ì‚¼ê°ì§€ì—­': [6], 'ì´íƒœì›ì—­': [6], 'ìˆ™ëŒ€ì…êµ¬ì—­': [6], 'ë‚¨ì˜ì—­': [6], 'ë…¹ì‚¬í‰ì—­': [6], 'íš¨ì°½ê³µì›ì—­': [6], 'ì§€í•˜ì² ì—­': [6], 'í•œê°•ì§„ì—­': [6], 'ì´ì´Œì—­': [6], 'ì—­ì•': [6], 'ê¸°ì°¨ì—­': [6], 'ì „ì² ì—­': [6], 'ìˆ™ëŒ€ì—­': [6], 'ë§ˆí¬ì—­': [6],
            'ì£¼ì°¨': [10, 7], 'ì£¼ì°¨ì¥': [10, 7], 'ì£¼ì°¨ê³µê°„': [10, 7], 'íšŒì‹': [7], 'ë™í˜¸íšŒ': [7], 'êµíšŒ': [7], 'ë‹¨ì²´ì„': [11, 7], 'í•™ë¶€ëª¨': [7], 'í™•ì¥': [7], 'ê³µê°„ë¶„ë¦¬': [11, 7], 'ë¶„ë¦¬': [7], 'ë– ë“¤ë‹¤': [8, 7], 'í•œì ': [8, 12, 7], 'í•œì í•˜ë‹¤': [8, 12, 7], 'í•œì‚°': [8, 7], 'í•œì‚°í•˜ë‹¤': [8, 7], 'í•œê°€ë¡­ë‹¤': [8, 7], 'í°ì†Œë¦¬': [7], 'ëŒ€í˜•': [7], 'ëŒ€í˜•ì¹´í˜': [7], 'ììœ ': [7], 'ììœ ë¡œìš´': [7], 'ììœ ë¡­ë‹¤': [7], 'ê°œë°©': [7], 'ë‹¨ì²´': [11, 7], 'í…Œë¼ìŠ¤': [9, 10, 7], 'ì‹êµ¬ë“¤': [7], 'ëŒ€ê´€': [11, 7], 'ê°€ì¡±': [10, 7], 'ëŒ€ê°€ì¡±': [7], 'ì—°ë§': [11, 7], 'ì†¡ë³„íšŒ': [11, 7], 'ì†¡ë…„íšŒ': [11, 7], 'ë°œë ›': [7], 'ë°œë ›ë¹„': [7], 'ë°œë ›íŒŒí‚¹': [7], 'ë°œë ›ì£¼ì°¨': [7], 'ë°œë ›ëŒ€': [7], 'ë°œë ›ë©ë‹ˆ': [7], 'ë°œë ›ë¼': [7],
            'í‰í™”': [8, 10, 12], 'í‰í™”ë¡œìš´': [8, 10, 12], 'í‰í™”ë¡­ë‹¤': [8, 10, 12], 'í‰í™”ë¡œì›€': [8, 10], 'í¸í•˜ë‹¤': [8], 'ì•„ëŠ‘í•˜ë‹¤': [8, 10, 12], 'ì•„ëŠ‘': [8, 10, 12], 'í¸ì•ˆí•˜ë‹¤': [8, 10, 12], 'í¸ì•ˆ': [8, 10, 12], 'í¸ì•ˆí•¨': [8, 10], 'ì‡¼íŒŒ': [8, 10], 'ì†ŒíŒŒ': [8, 10], 'ëŒ€í™”': [8], 'ìˆ˜ë‹¤': [8], 'ì‚¬ë‹´': [8], 'ì¡ë‹´': [8], 'ë– ë“¤ê¸°': [8], 'ë– ë“œëŠ”': [8], 'ë°ì´íŠ¸': [8], 'ì¹œêµ¬': [8], 'ì •ëª¨': [8], 'ë‹´ì†Œ': [8], 'ì†Œê°œíŒ…': [8], 'ë„ë€ë„ë€': [8], 'ë„ë€': [8], 'ë¡œë§¨í‹±': [8], 'ë¡œë§¨í‹±í•˜ë‹¤': [8], 'ì—°ì¸': [8], 'ì• ì¸': [8], 'ë‚¨ìì¹œêµ¬': [8], 'ì—¬ìì¹œêµ¬': [8], 'ë‚¨ì¹œ': [8], 'ì—¬ì¹œ': [8], 'Cozy': [8, 10, 12], 'cozy': [8, 10, 12], 'ì½”ì§€': [8, 10, 12], 'bgm': [8, 12], 'ì „ë§': [8, 10, 12], 'ê²½ì¹˜': [8, 10, 12], 'ìš´ì¹˜': [8, 10, 12], 'ì„ ê³¡': [8, 12], 'ë‘˜ì´ì„œ': [8], 'ë‹¨ì •': [8], 'ë‹¨ì •í•˜ë‹¤': [8],
            'ì•„ê¸°': [9], 'ì•„ì´': [9], 'ìœ ì•„ì°¨': [9], 'ìœ ëª¨ì°¨': [9], 'ê¸°ì €ê·€': [9], 'ì •ì›': [9, 10], 'ê°€ë“ ': [9], 'ì²­ê²°í•˜ë‹¤': [9, 10], 'ì²­ê²°': [9, 10], 'ê¹¨ë—í•˜ë‹¤': [9, 10], 'ê¹¨ë—': [9, 10], 'ì•ˆì „': [9], 'ì•ˆì „í•˜ë‹¤': [9], 'ì–´ë¦°ì´': [9], 'ìœ ì¹˜ì›': [9], 'ë”¸': [9], 'ì•„ë“¤': [9], 'ì• ë“¤': [9], 'ì• ê¸°': [9], 'ìœ ì•„': [9], 'ë² ì´ë¹„': [9], 'ì•„ê¸°ì²´ì–´': [9], 'ì•„ê¸°ì˜ì': [9], 'ì´ˆë“±í•™ìƒ': [9], 'ì´ˆë”©': [9], 'ì¡°ì¹´': [9], 'ìˆ˜ìœ ': [9], 'ëŒì”ì¹˜': [9], 'ìƒì¼ì”ì¹˜': [9], 'ë†€ì´í„°': [9], 'ë§ˆë‹¹': [9, 10], 'ìœ ê¸°ë†': [9, 10], 'ìƒëƒ¥í•˜ë‹¤': [9, 10, 12], 'ì˜í•´ì£¼ë‹¤': [9, 10], 'Friendly': [9, 10, 12], 'friendly': [9, 10, 12],
            'ì—˜ë ˆë² ì´í„°': [10], 'ì—˜ë¦¬ë² ì´í„°': [10], 'ì—˜ë² ': [10], 'ë…¸ì¸': [10], 'íœ ì²´ì–´': [10], 'ì–´ë¥´ì‹ ': [10], 'ì¹œìˆ™í•œ': [10], 'ì¹œìˆ™í•˜ë‹¤': [10], 'ì˜›ìŠ¤ëŸ½ë‹¤': [10], 'ë‹¤ê³¼': [10], 'ì–‘ê°±': [10], 'ì•½ê³¼': [10], 'ë–¡': [10], 'ê³§ê°': [10], 'í•œë°©': [10], 'ì±„ê´‘': [10, 12], 'ì„¤ê¸°': [10], 'ë°±ì„¤ê¸°': [10], 'í•œì˜¥': [10], 'í• ë¨¸ë‹ˆ': [10], 'í• ì•„ë²„ì§€': [10], 'ìƒì‹ ': [10], 'ëª¨ì‹œë‹¤': [10], 'ë¶€ëª¨ë‹˜': [10], 'ê³ ì „': [10], 'í•œêµ­': [10], 'ì›”ë³‘': [10], 'ì •ê°ˆ': [10], 'ì •ê°ˆí•˜ë‹¤': [10], 'ì•¤í‹°í¬': [10], 'ì‹í˜œ': [10], 'ì¡ìˆ˜ë‹¤': [10], 'ì™¸í• ì•„ë²„ì§€': [10], 'íˆ‡ë§ˆë£¨': [10], 'ì–´ë¨¸ë‹ˆ': [10], 'ì•„ë²„ì§€': [10], 'ëŒ€ì¶”': [10], 'ëª…ì ˆ': [10], 'íŒ¥ì£½': [10], 'ì‘¥ë–¡': [10], 'ë‹¨íŒ¥ë¹µ': [10], 'íŒ¥ë¹™ìˆ˜': [10],
            'ë…ë¦½': [11], 'ëŒ€ì—¬': [11], 'ìƒì¼íŒŒí‹°': [11], 'ë°˜ì… ê°€ëŠ¥': [11], 'ì¶•í•˜íŒŒí‹°': [11], 'ì¸í…Œë¦¬ì–´': [11, 12, 13], 'ì‹ ë‚˜ë‹¤': [11], 'ì‹ ë‚˜ìš”': [11], 'ë£¸': [11], 'íŒŒí‹°ë£¸': [11], 'EDM': [11], 'ì‹œëŒì‹œëŒ': [11], 'í™í•©': [11], 'ì¸ìƒìƒ·': [11, 13], 'í’ì„ ': [11], 'ì†Œí’ˆ': [11, 13], 'ì¡°ëª…': [11, 13], 'ìƒì¼': [11], 'ìƒíŒŒ': [11], 'ì¶•í•˜': [11], 'ì´›ë¶ˆ': [11], 'íŒŒí‹°': [11], 'ì´ë²¤íŠ¸': [11], 'ë¸Œë¼ì´ëœ': [11], 'ë² ì´ë¹„ìƒ¤ì›Œ': [11], 'ìš©í’ˆ': [11], 'ì„œí”„ë¼ì´ì¦ˆ': [11], 'ì¬ë¯¸ìˆë‹¤': [11], 'ì¬ë°Œë‹¤': [11], 'ì¬ë¯¸': [11], 'ì¦ê²ë‹¤': [11], 'í™”ë ¤í•˜ë‹¤': [11], 'ì´ì˜ë‹¤': [11, 12, 13], 'ì¥ì‹': [11, 13], 'ì»¨ì…‰': [11, 13, 14], 'í™í•œ': [11, 13], 'í™í•´': [11, 13], 'í™': [11, 13], 'í™í•˜': [11, 13], 'í™í•œê³³': [11, 13], 'í™í”Œ': [11, 13], 'í™í•œë°': [11, 13], 'í™ì§€ë¡œ': [11, 13], 'ê°„ì§€ë‚˜ë‹¤': [11], 'ì‹œëŒë²…ì í•˜ë‹¤': [11],
            'ì‰¬ë‹¤': [12], 'ì˜ˆì˜ë‹¤': [12, 13], 'ê³ ì¦ˆë„‰í•˜ë‹¤': [12], 'ê³ ì¦ˆë„‰': [12], 'ë”°ìŠ¤í•˜ë‹¤': [12], 'ë”°ìŠ¤í•¨': [12], 'í¬ê·¼': [12], 'í¬ê·¼í•˜ë‹¤': [12], 'ì—¬ìœ ': [12], 'ì—¬ìœ ë¡­ë‹¤': [12], 'ì°¨ë¶„': [12], 'ì°¨ë¶„í•˜ë‹¤': [12], 'ë·°': [12, 13], 'ë¶„ìœ„ê¸°': [12, 13], 'íë§': [12], 'í’ê²½': [12], 'ì•„ì§€íŠ¸': [12], 'ë‚­ë§Œ': [12], 'ê²½ì¹˜ë·°': [12], 'ìì—°': [12], 'ë””ìì¸': [12], 'ì°½ê°€': [12], 'ë…ì„œ': [12], 'ì‚¬ìƒ‰': [12], 'ë‹¤ì´ì–´ë¦¬': [12], 'ì¼ê¸°': [12], 'í–‡ì‚´': [12], 'ê¸°ë¶„ì „í™˜': [12], 'ë³´ìƒ': [12], 'ë©ë•Œë¦¬ê¸°': [12], 'ë©ë•Œë¦¬ë‹¤': [12], 'ë©': [12], 'ê°€ë§Œíˆ': [12], 'ê³ ìš”íˆ': [12], 'ëª…ìƒ': [12], 'íœ´ì‹': [12], 'ì‚°ì±…': [12], 'ìŒì•…': [12], 'í´ë˜ì‹': [12], 'ì¬ì¦ˆ': [12], 'ì•„ê¸°ìê¸°': [12], 'ì¡°ìš©ì¡°': [12], 'ì‹ë¬¼': [12], 'í–¥ê¸°': [12], 'êµ¬ê²½': [12, 13], 'ëŠê¸‹í•˜ë‹¤': [12], 'ì‹¬ì‹ ': [12], 'ë‹¤ìŠ¤ë¦¬ë‹¤': [12], 'ìŠ¤íŠ¸ë ˆìŠ¤': [12], 'ë ˆì½”ë“œ': [12], 'ì†Œí™•í–‰': [12], 'music': [12], 'ìš°ì—°íˆ': [12], 'ì•¼ì™¸': [12, 13], 'ë³¼ê±°ë¦¬': [12, 13], 'ì¸ë””': [12], 'ì¸ë””ìŒì•…': [12], 'ë°´ë“œ': [12], 'ì€ì€í•˜ë‹¤': [12], 'ì€ì€í•œ': [12], 'ì€ì€': [12], 'ì„¼ì¹˜í•˜ë‹¤': [12], 'ì„¼ì¹˜': [12], 'ìƒëƒ¥': [12],
            'ì˜ë‚˜ì˜¤ë‹¤': [13], 'ë°ì½”': [13], 'ë°ì½”ë ˆì´ì…˜': [13], 'ê·€ì—½ë‹¤': [13], 'êµ¬ê²½í•˜ë‹¤': [13], 'ì›¨ì´íŒ…': [13], 'ì„¸ë ¨': [13], 'ì¸ìŠ¤íƒ€': [13], 'ì¸ìŠ¤íƒ€ê·¸ë¨': [13], 'ê°ì„±': [13], 'ê°¬ì„±': [13], 'íŠ¸ë Œë“œ': [13], 'íŠ¸ëœë“œ': [13], 'í•«í•˜ë‹¤': [13], 'í•«': [13], 'í•«í•œ': [13], 'sns': [13], 'í¬í† ': [13], 'ê°ê°ì ì´ë‹¤': [13], 'ê°ê°': [13], 'ì„¼ìŠ¤': [13], 'í•«í”Œ': [13], 'í•«í”Œë ˆì´ìŠ¤': [13], 'ìƒ‰ê°': [13], 'ì™¸ê´€': [13], 'ì´¬ì˜': [13], 'ì˜¤í”ˆëŸ°': [13], 'ìœ ëª…': [13], 'MZ': [13], 'ì¸ìƒì‚¬ì§„': [13], 'ë¹„ì£¼ì–¼': [13], 'ì•¼ê²½': [13], 'ì¸ê¸°': [13], 'ë™í™”': [13], 'ì…€ì¹´': [13], 'ìœ ëŸ½': [13], 'í…Œì´ë¸”ë§': [13], 'ì˜ˆì•½': [13], 'ëŒ€ê¸°': [13], 'í’ˆì ˆëŒ€ë€': [13], 'í”„ë‘ìŠ¤': [13], 'ëŸ°ë˜': [13], 'ì„ ë¬¼': [13], 'ì‹œê·¸ë‹ˆì²˜ë©”ë‰´': [13], 'ì‹œê·¸ë‹ˆì²˜': [13], 'ì¤„': [13], 'ê¸°ë‹¤ë¦¬ë‹¤': [13], 'ì¤„ì„œë‹¤': [13], 'ì™¸êµ­': [13], 'ë§Œì„': [13], 'ì´êµ­ì ì´ë‹¤': [13], 'ì´êµ­ì ': [13], 'ì´êµ­': [13], 'í™”ì œ': [13], 'ìƒŒí”„ë€ì‹œìŠ¤ì½”': [13], 'ë¯¸êµ­': [13], 'í•´ì™¸': [13], 'ìœ ë‹ˆí¬': [13], 'ë…íŠ¹': [13], 'ë…íŠ¹í•˜ë‹¤': [13], 'ë¶ë¹„ë‹¤': [13], 'ë…ì¼': [13], 'ê±°ìš¸ìƒ·': [13], 'ì—°ì˜ˆì¸': [13], 'ë°©ì†¡': [13], 'ìœ íŠœë¸Œ': [13], 'ìœ íŠœë²„': [13], 'íŠ¹ë³„í•˜ë‹¤': [13], 'íŠ¹ë³„': [13], 'ì™¸ë¶€ì¡°ê²½': [13], 'ì¡°ê²½': [13], 'ì‚¬ì§„í¬ì¸íŠ¸': [13], 'ë£¨í”„': [13], 'íŠ¹ì´í•˜ë‹¤': [13], 'ì˜êµ­': [13], 'ë‰´ìš•': [13], 'ëª…ì†Œ': [13], 'ì†Œë¬¸': [13], 'ì†Œë¬¸ë‚˜ë‹¤': [13], 'ì†Œë¬¸ë‚´ë‹¤': [13], 'ë°”ê¸€ë°”ê¸€': [13], 'ìŠ¤íŒŸ': [13],
            'ê°¤ëŸ¬ë¦¬': [14], 'ì‡¼ë£¸': [14], 'ì´ìƒ‰ì¹´í˜': [14], '#ì´ìƒ‰ì¹´í˜': [14], '#ì´íƒœì›ì´ìƒ‰ì¹´í˜': [14], 'ì²´í—˜': [14], 'ê²Œì„': [14], 'ë³´ë“œê²Œì„': [14], 'ë§Œí™”ì±…': [14], 'ë§Œí™”': [14], 'ë§Œí™”ì¹´í˜': [14], 'ì›ë°ì´í´ë˜ìŠ¤': [14], 'ë“œë¡œì‰': [14], 'ë„ìê¸°': [14], 'ìˆ˜ë©´': [14], 'ì• ê²¬': [14], 'ì• ê²¬ì¹´í˜': [14], 'ê³ ì–‘ì´': [14], 'ê°•ì•„ì§€': [14], 'ì‚¬ëª¨ì˜ˆë“œ': [14], 'í”Œë¼ì›Œì¹´í˜': [14], 'í…Œë§ˆ': [14], 'ë§ˆì‚¬ì§€': [14], 'ì˜¨ìˆœí•˜ë‹¤': [14], 'ìº í•‘': [14]}

negative = {'ì–´ë‘¡ë‹¤': [5], 'ì–´ë‘ì»´ì»´í•˜ë‹¤': [5], 'ì–´ë‘ì›€': [5], 'ì–´ë‘ ': [5], 'ì–´ë‘ì»´ì»´': [5], 'ì‹œê°„ì œí•œ': [5], 'ì—‰ë©ì´': [5, 6, 7, 9, 10], 'í—ˆë¦¬': [5, 6, 7, 9, 10], 'ëˆˆì¹˜': [5], 'ì‹œëŒì‹œëŒ': [5], 'ì‹œëŒë²…ì ': [5], 'ë°”ê¸€ë°”ê¸€': [5], 'ì†ŒìŒ': [5], 'í˜‘ì†Œí•´': [6, 7], 'í˜‘ì†Œ': [6, 7], 'í˜‘ì†Œí•˜': [6, 7], 'í˜‘ì†Œí–ˆ': [6, 7], 'í˜‘ì†Œí•©ë‹ˆ': [6, 7], 'í˜‘ì†Œí•œ': [6, 7], 'í˜‘ì†Œí–ˆì–´': [6, 7], 'í˜‘ì†Œí•¨': [6, 7], 'ì›¨ì´íŒ…': [7], 'ì›¨ì´': [7], 'ì¹´ê³µ': [8, 9, 7], 'ê³µë¶€': [8, 9, 7],
            'ì¡°ìš©í•œ': [7, 11], 'ì¡°ìš©ì¡°': [7, 11], 'ì¡°ìš©í•˜ë‹¤': [7, 11], 'ì¢ë‹¤': [7], 'ë‹µë‹µí•˜ë‹¤': [7], 'ìœ„í—˜#ìœ„í—˜í•˜ë‹¤': [9], 'ë…¸í‚¤ì¦ˆ': [9], 'ë”ëŸ½ë‹¤': [9], 'í¡ì—°': [9], 'ë‹´ë°°': [9], 'ì§€ì €ë¶„í•˜ë‹¤': [9], 'ì§€ì €ë¶„': [9], 'ë¾°ì¡±í•˜ë‹¤': [9], 'ë‚ ì¹´ë¡­ë‹¤': [9], 'ê³„ë‹¨': [10], 'ì–¸ë•': [10], 'ì–¸ë•ê¸¸': [10], 'í‚¤ì˜¤ìŠ¤í¬': [10], 'íŠ¹ì „': [11], 'ì•„ì´ëŒ': [11], 'ì›¨ì´íŒ… ': [12], 'í•«í”Œ ': [12], 'ë§Œì„': [12], 'ì‹œë„ëŸ½ë‹¤': [12], 'ë¶ˆì¹œì ˆ': [12], 'ë¶ˆì¹œì ˆí•˜ë‹¤': [12], 'ë§íˆ¬': [12]}

strong_pos = {'ë¸ŒëŸ°ì¹˜': [0], 'ì‹ì‚¬': [0], 'ì•„ì ': [0], 'ë¼ë‹ˆ': [0], 'ì•„ì¹¨ì‹ì‚¬': [0], 'ë¹„ê±´': [4], 'ì±„ì‹': [4], 'ë² ì§€í…Œë¦¬ì–¸': [4], 'í˜ìŠ¤ì½”': [4], 'ë½í† ': [4], 'ì˜¤ë³´': [4], 'ìŠ¤íŠ¸ë¦­íŠ¸': [4], 'ì‹ë¬¼ì„±': [4], 'ê³µë¶€': [5],
              'ì‘ì—…': [5], 'ì—…ë¬´': [5], 'ì¹´ê³µ': [5], 'íŒ€í”Œ': [6], 'íšŒì˜': [6], 'ìŠ¤í„°ë””': [6], 'ë‹¨ì²´ì„': [7], 'ëŒ€í™”': [8], 'ì•„ì´': [9], 'ì•„ê¸°': [9], 'ì•„ì´ë“¤': [9], 'í• ë¨¸ë‹ˆ': [10], 'í• ì•„ë²„ì§€': [10], 'íŒŒí‹°': [11]}


def pos_scoring(num, r):  # positiveì™€ ê²¹ì¹˜ëŠ” í‚¤ì›Œë“œì˜ valueê°€ ì €ì¥ëœ ë¦¬ìŠ¤íŠ¸
    for n in num:
        score[classes[n]] += r


def neg_scoring(num, r):  # negativeì™€ ê²¹ì¹˜ëŠ” í‚¤ì›Œë“œì˜ valueê°€ ì €ì¥ëœ ë¦¬ìŠ¤íŠ¸
    for n in num:
        score[classes[n]] -= r*5


def strpos_scoring(num, r):  # positiveì™€ ê²¹ì¹˜ëŠ” í‚¤ì›Œë“œì˜ valueê°€ ì €ì¥ëœ ë¦¬ìŠ¤íŠ¸
    for n in num:
        score[classes[n]] += r*3


'''
def pos_compare(list): #í˜•íƒœì†Œê°€ ì €ì¥ëœ ë¦¬ìŠ¤íŠ¸
    for i in range(len(list)):
        num = []
        if list[i][0] in positive:
            num.append(positive.get(list[i][0]))
            pos_scoring(num)

def neg_compare(list): #í˜•íƒœì†Œê°€ ì €ì¥ëœ ë¦¬ìŠ¤íŠ¸
    for i in range(len(list)):
        num = []
        if list[i][0] in negative:
            num.append(negative.get(list[i][0]))
            neg_scoring(num)

def classify(score): #scoreì—ì„œ ê°€ì¥ ë†’ì€ ì ìˆ˜ë¡œ ëª©ì  ë¶„ë¥˜
    rank = []
    for i in score:
        rank.append(score[i])
    max = 0
    for j in range(len(rank)):
        if rank[j] > max:
            max = rank[j]
            index = j
    return classes[index]

'''


def makeReview(i):
    f1 = open(
        f'C:/Users/cherr/grad_pro/ê°ì„±ì‚¬ì „/okt_result/cafe{i}í˜•íƒœì†Œë¶„ì„.csv', 'r', encoding='utf-8-sig', newline='')
    rdr = csv.reader(f1)
    return rdr


def pos_comparing(rdr):
    for r in rdr:
        for c in positive:
            if r[1] == c:
                num = positive.get(c)
                # print(c,  r[3], num)
                pos_scoring(num, int(r[3]))


def neg_comparing(rdr):
    for r in rdr:
        for c in negative:
            if r[1] == c:
                num = negative.get(c)
                # print("ì œì™¸: " + c,  r[3], num)
                neg_scoring(num, int(r[3]))


def strpos_comparing(rdr):
    for r in rdr:
        for c in strong_pos:
            if r[1] == c:
                num = strong_pos.get(c)
                # print("ê°€ì‚°ì : " + c,  r[3], num)
                strpos_scoring(num, int(r[3]))


def final(score):
    # print(score)
    score_list = sorted(score.items(), key=lambda x: x[1], reverse=True)
    # first = score_list[0]
    # second = score_list[1]
    # third = score_list[2]
    # four = score_list[3]
    # five = score_list[4]

    # return first, second, third
    return score_list

    # max = 0
    # index = 0
    # for i in range(15):
    #     if max < score[classes[i]]:
    #         max = score[classes[i]]
    #         index = i
    # print(classes[index])
    # return classes[index]


def findReview(i):
    # ì½”ë© ê²½ë¡œ or ê°ì ê²½ë¡œ ì§€ì •
    df = pd.read_csv(
        f"C:/Users/cherr/grad_pro/ê°ì„±ì‚¬ì „/cafe/cafe{i}.csv", encoding="utf-8", header=0)
    for k in range(len(df)):
        if df['review'][k].find('í˜ìŠ¤ì¸„ë¦¬') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[0]] += 1
        if df['review'][k].find('í•œë¼') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[0]] += 1
        if df['review'][k].find('ë¡œìŠ¤í„°ë¦¬') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[1]] += 1
        if df['review'][k].find('í•¸ë“œë“œë¦½') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[1]] += 1
        if df['review'][k].find('ì»¤í”¼ë§›ì§‘') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[1]] += 1
        if df['review'][k].find('ì°¨ì¢…ë¥˜') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[2]] += 1
        if df['review'][k].find('í‹°ì„¸íŠ¸') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[2]] += 1
        if df['review'][k].find('í‹° ì„¸íŠ¸') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[2]] += 1
        if df['review'][k].find('ì‹œê°„ì œí•œ') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´ #ì œì™¸
            score[classes[5]] -= 5
        if df['review'][k].find('1ì¸ì„') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[5]] += 1
        if df['review'][k].find('2ì¸µ') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[5]] += 1
            score[classes[7]] += 1
        if df['review'][k].find('3ì¸µ') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[5]] += 1
            score[classes[7]] += 1
        if df['review'][k].find('ì˜ë“¤ë ¤ìš”') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[5]] += 1
            score[classes[8]] += 1
        if df['review'][k].find('5ì¸') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[6]] += 1
        if df['review'][k].find('ë„“ì€ ì±…ìƒ') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[6]] += 1
        if df['review'][k].find('ë„“ì€ í…Œì´ë¸”') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[6]] += 1
        if df['review'][k].find('ì£¼ì°¨ê³µê°„') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[7]] += 1
        if df['review'][k].find('ëŒ€í˜•ì¹´í˜') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[7]] += 1
        if df['review'][k].find('ë‹¨ì²´ì„') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[7]] += 1
            score[classes[11]] += 1
        if df['review'][k].find('ìƒì¼íŒŒí‹°') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[11]] += 1
        if df['review'][k].find('ë°˜ì… ê°€ëŠ¥') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[11]] += 1
        if df['review'][k].find('ì¸ìƒìƒ·') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[11]] += 1
            score[classes[13]] += 1
        if df['review'][k].find('ê¸°ë¶„ì „í™˜') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[12]] += 1
        if df['review'][k].find('ì¸ìƒì‚¬ì§„') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[13]] += 1
        if df['review'][k].find('ì›ë°ì´í´ë˜ìŠ¤') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[14]] += 1
        if df['review'][k].find('ì´ìƒ‰ì¹´í˜') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[14]] += 1
        if df['review'][k].find('ë§Œí™”ì¹´í˜') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[14]] += 1
        if df['review'][k].find('ì• ê²¬ì¹´í˜') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[14]] += 1
        if df['review'][k].find('í”Œë¼ì›Œì¹´í˜') != -1:  # ì—†ë‹¤ê°€ ì•„ë‹ˆë©´
            score[classes[14]] += 1


f3 = open('C:/Users/cherr/grad_pro/ê°ì„±ì‚¬ì „/classify2.csv',
          'w', encoding='utf-8-sig', newline='')
csvWriter = csv.writer(f3)
# csvWriter.writerow(['no.', '1 - 2 - 3'])
csvWriter.writerow(['no.', '[0]ë¸ŒëŸ°ì¹˜/ì‹ì‚¬', '[1]ì»¤í”¼', '[2]ì°¨', '[3]ë””ì €íŠ¸', '[4]ë¹„ê±´', '[5]ê³µë¶€/ê°œì¸ì‘ì—…/ì—…ë¬´', '[6]íŒ€í”Œ/íšŒì˜/ìŠ¤í„°ë””', '[7]ëŒ€ëª¨ì„',
                   '[8]ëŒ€í™”/ìˆ˜ë‹¤', '[9]ì•„ì´', '[10]í• ì•„ë²„ì§€/í• ë¨¸ë‹ˆ', '[11]íŒŒí‹°', '[12]íœ´ì‹', '[13]sns/í•«í”Œ', '[14]í…Œë§ˆ', 'TOP1', 'TOP2', 'TOP3', 'TOP4', 'TOP5'])


# ğŸ­ğŸ­ğŸ­ğŸ­ ì¶”ê°€í•œ ë¶€ë¶„ğŸ­ğŸ­ğŸ­
def bonusToSeats():  # ë‹¨ì²´ì„ 10ì  ì¶”ê°€
    df = pd.read_csv(
        "C:/Users/cherr/grad_pro/ê°ì„±ì‚¬ì „/ê¸°ë³¸ì •ë³´count.csv", encoding="utf-8", header=0)
    s = df[df['ë‹¨ì²´ì„'] == 1]
    slist = s['Column1'].values.tolist()
    return slist
# ğŸ­ğŸ­ğŸ­ğŸ­ğŸ­ğŸ­ğŸ­ğŸ­ğŸ­ğŸ­ğŸ­ğŸ­


for j in range(272, 397):
    # print(f"{j}ë²ˆ ì¹´í˜ ì…ë‹ˆë‹¤.")
    score = {'ë¸ŒëŸ°ì¹˜/ì‹ì‚¬': 0, 'ì»¤í”¼': 0, 'ì°¨': 0, 'ë””ì €íŠ¸': 0, 'ë¹„ê±´': 0,
             'ê³µë¶€/ê°œì¸ì‘ì—…/ì—…ë¬´(1ì¸)': 0, 'íŒ€í”Œ/íšŒì˜/ìŠ¤í„°ë””': 0, 'ëŒ€ëª¨ì„': 0, 'ëŒ€í™”/ìˆ˜ë‹¤': 0, 'ì•„ì´': 0, 'í• ì•„ë²„ì§€/í• ë¨¸ë‹ˆ': 0, 'íŒŒí‹°': 0, 'íœ´ì‹': 0, 'sns/í•«í”Œ': 0, 'í…Œë§ˆì¹´í˜': 0}
    pos_comparing(makeReview(j))
    neg_comparing(makeReview(j))
    strpos_comparing(makeReview(j))
    findReview(j)

    # ğŸ­ğŸ­ğŸ­ì¶”ê°€í•œë¶€ë¶„ğŸ­ğŸ­
    slist = bonusToSeats()
    if j in slist:
        score[classes[7]] += 10
    # ğŸ­ğŸ­ğŸ­ğŸ­ğŸ­ğŸ­ğŸ­ğŸ­ğŸ­

    score_list = final(score)
    csvWriter.writerow([j, score[classes[0]], score[classes[1]], score[classes[2]], score[classes[3]], score[classes[4]], score[classes[5]], score[classes[6]],
                        score[classes[7]], score[classes[8]], score[classes[9]], score[classes[10]], score[classes[11]], score[classes[12]], score[classes[13]], score[classes[14]], score_list[0], score_list[1], score_list[2], score_list[3], score_list[4]])

f3.close()

pos_comparing(makeReview(303))
neg_comparing(makeReview(303))
final(score)

# ì¸ë±ì‹±